<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Function query</title><link rel="stylesheet" type="text/css" href="../index.css"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><div id="header"><table cellspacing="0" cellpadding="0" width="100%"><tr><td valign="center">
		  
	      <b> Common Lisp Sphinx Search API</b></td><td valign="center" align="right"><b>API documentation</b></td></tr></table></div><div class="main"><div class="padded"><p class="noindent">
	  Package:
	  <a href="cl-sphinx-search.html">cl-sphinx-search</a></p><h2 class="page-title">
	  Function
	  query</h2></div><table cellspacing="0" cellpadding="0" width="100%"><tr><td valign="top" width="60%"><div class="padded"><h3>Lambda List</h3><div class="indent"><tt>query</tt> (<b>client</b> <b>query</b> <b>&amp;key</b> <b>index</b> <b>comment</b> <b>(index *)</b> <b>(comment )</b>)</div><h3>Arguments</h3><div class="indent"><ul><li><tt>client</tt> -- a <a href="cl-sphinx-search__class__sphinx-client.html"><tt>sphinx-client</tt></a></li><li><tt>query</tt> -- the query to run through <tt>searchd</tt></li><li><tt>index</tt> -- the index to use; defaults to &quot;*&quot;</li><li><tt>comment</tt> -- a comment describing this query; default none</li></ul></div><h3>Return Value</h3><div class="indent">nil or a hash containing the query results</div><h3>Details<a name="details"></a></h3><div class="indent">                    Run a query through <tt>searchd</tt>.<br><br>    <pre>
    (query client &quot;test&quot;)    </pre><br><br>    Query <tt>searchd</tt>. This method runs a single query through <tt>searchd</tt>.<br><br>
    It returns the results in a hash with the following keys:    <dl><dt>attributes</dt><dd> : a hash-table containing attributes</dd><dt>fields</dt><dd> : a list of fields</dd><dt>matches</dt><dd> : a hash-table containing the matches</dd><dt>status</dt><dd> : the status returned by <tt>searchd</tt></dd><dt>status-message</dt><dd> : the status message returned by <tt>searchd</tt></dd><dt>time</dt><dd> : the time <tt>searchd</tt> took for the query</dd><dt>total</dt><dd> : the total matches returned</dd><dt>total-found</dt><dd> : the total number of matches found</dd><dt>words</dt><dd> : a hash-table containing the matching words with their statistics</dd></dl><br style="clear: both;"><br><br>        <br><br></div></div></td><td valign="top" width="5%">
	     
	  </td><td valign="top" width="35%"><h3>See also</h3><div class="indent"><table cellspacing="0" cellpadding="0"><tr><td><a href="cl-sphinx-search__class__sphinx-client.html"><tt>sphinx-client</tt></a></td></tr><tr><td><a href="cl-sphinx-search__fun__add-query.html"><tt>add-query</tt></a></td></tr><tr><td><a href="cl-sphinx-search__fun__run-queries.html"><tt>run-queries</tt></a></td></tr></table></div></td></tr></table></div></body></html>